<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arcadio Launcher</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body, html { height: 100%; }
    .play-overlay{ position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; background: radial-gradient(at left top, #191769, #8544A8); }
    .play-btn{ font-family: Nunito, system-ui, -apple-system; font-weight: 900; font-size: 1.2rem; padding: 14px 18px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.25); background: rgba(255,255,255,0.15); color: white; cursor: pointer; box-shadow: 0 8px 24px rgba(0,0,0,0.35); }
    .play-btn:hover{ background: rgba(255,255,255,0.22); }
    .player{ position: fixed; inset: 0; background: black; display: none; }
    .player.show{ display: block; }
    .player iframe{ width: 100%; height: 100%; border: 0; }
  </style>
  <link rel="icon" href="favicon.png">
</head>
<body>
  <div class="play-overlay" id="play-overlay" aria-live="polite">
    <button id="start-btn" class="play-btn" type="button" aria-label="Play in Fullscreen">
      <img src="img/player-play.svg" alt="Play" style="display:block;width:48px;height:48px;">
    </button>
  </div>
  <div class="player" id="player"></div>
  <script>
    const params = new URLSearchParams(location.search);
    const targetUrl = params.get('url');
    const overlay = document.getElementById('play-overlay');
    const startBtn = document.getElementById('start-btn');
    const player = document.getElementById('player');

    if(!targetUrl){
      window.location.href = 'index.html';
    } else {
      startBtn.addEventListener('click', async () => {
        overlay.style.display = 'none';
        player.classList.add('show');
        const iframe = document.createElement('iframe');
        iframe.src = targetUrl;
        iframe.allow = 'fullscreen; autoplay; gamepad; cross-origin-isolated';
        iframe.setAttribute('allowfullscreen', '');
        player.appendChild(iframe);
        try{
          if(player.requestFullscreen){
            await player.requestFullscreen();
          }
        } catch(e){
          console.warn('Fullscreen request failed:', e);
        }
      });
    }
  </script>
</body>
</html>
